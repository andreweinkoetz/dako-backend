webpackJsonp([1],{0:function(n,e,l){n.exports=l("cDNt")},cDNt:function(n,e,l){"use strict";function t(n){return d._25(0,[(n()(),d._8(0,0,null,null,12,"div",[["class","ui error form field"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n                "])),(n()(),d._8(2,0,null,null,9,"div",[["class","ui error message"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n                  "])),(n()(),d._8(4,0,null,null,1,"div",[["class","header"]],null,null,null,null,null)),(n()(),d._24(-1,null,["Fehler beim Anmelden"])),(n()(),d._24(-1,null,["\n                  "])),(n()(),d._8(7,0,null,null,3,"p",[],null,null,null,null,null)),(n()(),d._24(8,null,["Fehler beim Login aufgetreten. Fehlernummer: ",""])),(n()(),d._8(9,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),d._24(-1,null,["User bereits angemeldet."])),(n()(),d._24(-1,null,["\n                "])),(n()(),d._24(-1,null,["\n              "]))],null,function(n,e){n(e,8,0,e.component.errorCode)})}function u(n){return d._25(0,[(n()(),d._24(-1,null,["\n\n"])),(n()(),d._8(1,0,null,null,62,"div",[["class","ui middle aligned center aligned grid"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n  "])),(n()(),d._8(3,0,null,null,60,"div",[["class","one column row"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n    "])),(n()(),d._8(5,0,null,null,57,"div",[["class","column"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n      "])),(n()(),d._8(7,0,null,null,0,"img",[["class","image"],["src","assets/img/logo.svg"],["width","250px"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n      "])),(n()(),d._8(9,0,null,null,4,"h2",[["class","ui grey image header"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n        "])),(n()(),d._8(11,0,null,null,1,"div",[["class","content"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n          Login Chat-Applikation\n        "])),(n()(),d._24(-1,null,["\n      "])),(n()(),d._24(-1,null,["\n      "])),(n()(),d._8(15,0,null,null,46,"form",[["class","ui large form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,e,l){var t=!0;if("submit"===e){t=!1!==d._20(n,17).onSubmit(l)&&t}if("reset"===e){t=!1!==d._20(n,17).onReset()&&t}return t},null,null)),d._6(16,16384,null,0,S.l,[],null,null),d._6(17,16384,null,0,S.i,[[8,null],[8,null]],null,null),d._22(2048,null,S.b,null,[S.i]),d._6(19,16384,null,0,S.h,[S.b],null,null),(n()(),d._24(-1,null,["\n        "])),(n()(),d._8(21,0,null,null,22,"div",[["class","ui stacked segment"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n\n            "])),(n()(),d._2(16777216,null,null,1,null,t)),d._6(24,16384,null,0,b.c,[d.Q,d.N],{ngIf:[0,"ngIf"]},null),(n()(),d._24(-1,null,["\n\n          "])),(n()(),d._8(26,0,null,null,13,"div",[["class","field"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n            "])),(n()(),d._8(28,0,null,null,10,"div",[["class","ui left icon input"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n              "])),(n()(),d._8(30,0,null,null,0,"i",[["class","user circle icon"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n              "])),(n()(),d._8(32,0,[["userField",1]],null,5,"input",[["name","userName"],["placeholder","Username"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,l){var t=!0,u=n.component;if("input"===e){t=!1!==d._20(n,33)._handleInput(l.target.value)&&t}if("blur"===e){t=!1!==d._20(n,33).onTouched()&&t}if("compositionstart"===e){t=!1!==d._20(n,33)._compositionStart()&&t}if("compositionend"===e){t=!1!==d._20(n,33)._compositionEnd(l.target.value)&&t}if("ngModelChange"===e){t=!1!==(u.username=l)&&t}if("keyup.enter"===e){t=!1!==u.onEnter()&&t}return t},null,null)),d._6(33,16384,null,0,S.c,[d.G,d.k,[2,S.a]],null,null),d._22(1024,null,S.e,function(n){return[n]},[S.c]),d._6(35,671744,null,0,S.j,[[2,S.b],[8,null],[8,null],[2,S.e]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),d._22(2048,null,S.f,null,[S.j]),d._6(37,16384,null,0,S.g,[S.f],null,null),(n()(),d._24(-1,null,["\n            "])),(n()(),d._24(-1,null,["\n          "])),(n()(),d._24(-1,null,["\n          "])),(n()(),d._8(41,0,null,null,1,"div",[["class","ui fluid large red button submit"]],null,[[null,"click"]],function(n,e,l){var t=!0,u=n.component;if("click"===e){t=!1!==u.login()&&t}return t},null,null)),(n()(),d._24(-1,null,["Login"])),(n()(),d._24(-1,null,["\n        "])),(n()(),d._24(-1,null,["\n\n        "])),(n()(),d._8(45,0,null,null,15,"div",[["class","ui grey message"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n          "])),(n()(),d._8(47,0,null,null,12,"div",[["class","ui form"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n            "])),(n()(),d._8(49,0,null,null,9,"div",[["class","inline field"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n              "])),(n()(),d._8(51,0,null,null,6,"div",[["class","ui toggle checkbox"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n                "])),(n()(),d._8(53,0,null,null,0,"input",[["disabled","true"],["type","checkbox"]],[[8,"checked",0]],null,null,null,null)),(n()(),d._24(-1,null,["\n                "])),(n()(),d._8(55,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),d._24(-1,null,["Use AdvancedChat-Client"])),(n()(),d._24(-1,null,["\n              "])),(n()(),d._24(-1,null,["\n            "])),(n()(),d._24(-1,null,["\n          "])),(n()(),d._24(-1,null,["\n        "])),(n()(),d._24(-1,null,["\n\n      "])),(n()(),d._24(-1,null,["\n    "])),(n()(),d._24(-1,null,["\n\n  "]))],function(n,e){var l=e.component;n(e,24,0,l.isError);n(e,35,0,"userName",l.username)},function(n,e){var l=e.component;n(e,15,0,d._20(e,19).ngClassUntouched,d._20(e,19).ngClassTouched,d._20(e,19).ngClassPristine,d._20(e,19).ngClassDirty,d._20(e,19).ngClassValid,d._20(e,19).ngClassInvalid,d._20(e,19).ngClassPending),n(e,32,0,d._20(e,37).ngClassUntouched,d._20(e,37).ngClassTouched,d._20(e,37).ngClassPristine,d._20(e,37).ngClassDirty,d._20(e,37).ngClassValid,d._20(e,37).ngClassInvalid,d._20(e,37).ngClassPending),n(e,53,0,l.isAdvancedChat)})}function s(n){return d._25(0,[(n()(),d._8(0,0,null,null,1,"app-login",[],null,null,null,u,w)),d._6(1,114688,null,0,P,[I,L],null,null)],function(n,e){n(e,1,0)},null)}function o(n){return d._25(0,[(n()(),d._24(-1,null,["\n\n"])),(n()(),d._8(1,0,null,null,87,"div",[["class","ui middle aligned center aligned grid container"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n  "])),(n()(),d._8(3,0,null,null,12,"div",[["class","two column row"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n    "])),(n()(),d._8(5,0,null,null,3,"div",[["class","column bottom aligned left aligned"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n      "])),(n()(),d._8(7,0,null,null,0,"img",[["class","image"],["src","assets/img/logo.svg"],["width","250px"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n    "])),(n()(),d._24(-1,null,["\n    "])),(n()(),d._8(10,0,null,null,4,"div",[["class","column bottom aligned right aligned"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n      "])),(n()(),d._8(12,0,null,null,1,"button",[["class","ui red basic button"]],null,[[null,"click"]],function(n,e,l){var t=!0,u=n.component;if("click"===e){t=!1!==u.logout()&&t}return t},null,null)),(n()(),d._24(-1,null,["Logout"])),(n()(),d._24(-1,null,["\n    "])),(n()(),d._24(-1,null,["\n  "])),(n()(),d._24(-1,null,["\n  "])),(n()(),d._8(17,0,null,null,70,"div",[["class","one column row"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n    "])),(n()(),d._8(19,0,null,null,67,"div",[["class","column"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n\n\n      "])),(n()(),d._8(21,0,null,null,7,"div",[["class","ui attached message"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n        "])),(n()(),d._8(23,0,null,null,1,"div",[["class","header"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n          Herzlich willkommen beim WebSocket-Chat!\n        "])),(n()(),d._24(-1,null,["\n        "])),(n()(),d._8(26,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),d._24(-1,null,["Anwendung entwickelt im Rahmen der Bachelorarbeit von Andre Weink\xf6tz bei Prof. Dr. Mandl."])),(n()(),d._24(-1,null,["\n        "])),(n()(),d._24(-1,null,["\n\n      "])),(n()(),d._8(30,0,null,null,29,"div",[["class","ui raised segments"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n        "])),(n()(),d._8(32,0,null,null,26,"div",[["class","ui segment"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n          "])),(n()(),d._8(34,0,null,null,4,"h2",[["class","ui grey image header"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n            "])),(n()(),d._8(36,0,null,null,1,"div",[["class","content"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n              Chat-Applikation\n            "])),(n()(),d._24(-1,null,["\n          "])),(n()(),d._24(-1,null,["\n          "])),(n()(),d._8(40,0,null,null,9,"div",[["class","ui segments"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n            "])),(n()(),d._8(42,0,null,null,6,"div",[["class","ui left aligned segment"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n                "])),(n()(),d._8(44,0,null,null,1,"div",[["class","ui top left attached label"]],null,null,null,null,null)),(n()(),d._24(-1,null,["Liste aller User"])),(n()(),d._24(-1,null,["\n                "])),(n()(),d._8(47,0,null,null,0,"div",[["class","userBox"]],[[8,"innerHTML",1]],null,null,null,null)),(n()(),d._24(-1,null,["\n            "])),(n()(),d._24(-1,null,["\n          "])),(n()(),d._24(-1,null,["\n          "])),(n()(),d._8(51,0,null,null,6,"div",[["class","ui segments"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n            "])),(n()(),d._8(53,0,null,null,3,"div",[["class","ui left aligned segment"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n                "])),(n()(),d._8(55,0,null,null,0,"div",[["class","chatBox"]],[[8,"innerHTML",1]],null,null,null,null)),(n()(),d._24(-1,null,["\n            "])),(n()(),d._24(-1,null,["\n          "])),(n()(),d._24(-1,null,["\n        "])),(n()(),d._24(-1,null,["\n        "])),(n()(),d._24(-1,null,["\n         \n\n\n\n        "])),(n()(),d._8(61,0,null,null,24,"form",[["class","ui form attached fluid segment"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,e,l){var t=!0;if("submit"===e){t=!1!==d._20(n,63).onSubmit(l)&&t}if("reset"===e){t=!1!==d._20(n,63).onReset()&&t}return t},null,null)),d._6(62,16384,null,0,S.l,[],null,null),d._6(63,16384,null,0,S.i,[[8,null],[8,null]],null,null),d._22(2048,null,S.b,null,[S.i]),d._6(65,16384,null,0,S.h,[S.b],null,null),(n()(),d._24(-1,null,["\n          "])),(n()(),d._8(67,0,null,null,17,"div",[["class","field"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n            "])),(n()(),d._8(69,0,null,null,14,"div",[["class","ui left icon action input"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n              "])),(n()(),d._8(71,0,null,null,0,"i",[["class","mail outline icon"]],null,null,null,null,null)),(n()(),d._24(-1,null,["\n              "])),(n()(),d._8(73,0,null,null,6,"input",[["placeholder","Text Input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,l){var t=!0,u=n.component;if("input"===e){t=!1!==d._20(n,74)._handleInput(l.target.value)&&t}if("blur"===e){t=!1!==d._20(n,74).onTouched()&&t}if("compositionstart"===e){t=!1!==d._20(n,74)._compositionStart()&&t}if("compositionend"===e){t=!1!==d._20(n,74)._compositionEnd(l.target.value)&&t}if("ngModelChange"===e){t=!1!==(u.message=l)&&t}return t},null,null)),d._6(74,16384,null,0,S.c,[d.G,d.k,[2,S.a]],null,null),d._22(1024,null,S.e,function(n){return[n]},[S.c]),d._6(76,671744,null,0,S.j,[[2,S.b],[8,null],[8,null],[2,S.e]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),d._21(77,{standalone:0}),d._22(2048,null,S.f,null,[S.j]),d._6(79,16384,null,0,S.g,[S.f],null,null),(n()(),d._24(-1,null,["\n              "])),(n()(),d._8(81,0,null,null,1,"button",[["class","ui button"]],null,[[null,"click"]],function(n,e,l){var t=!0,u=n.component;if("click"===e){t=!1!==u.send()&&t}return t},null,null)),(n()(),d._24(-1,null,["Submit"])),(n()(),d._24(-1,null,["\n            "])),(n()(),d._24(-1,null,["\n          "])),(n()(),d._24(-1,null,["\n       \n        "])),(n()(),d._24(-1,null,["\n\n      "])),(n()(),d._24(-1,null,["\n    "])),(n()(),d._24(-1,null,["\n  "]))],function(n,e){n(e,76,0,e.component.message,n(e,77,0,!0))},function(n,e){var l=e.component;n(e,47,0,l.usersToAdd),n(e,55,0,l.messageToAdd),n(e,61,0,d._20(e,65).ngClassUntouched,d._20(e,65).ngClassTouched,d._20(e,65).ngClassPristine,d._20(e,65).ngClassDirty,d._20(e,65).ngClassValid,d._20(e,65).ngClassInvalid,d._20(e,65).ngClassPending),n(e,73,0,d._20(e,79).ngClassUntouched,d._20(e,79).ngClassTouched,d._20(e,79).ngClassPristine,d._20(e,79).ngClassDirty,d._20(e,79).ngClassValid,d._20(e,79).ngClassInvalid,d._20(e,79).ngClassPending)})}function i(n){return d._25(0,[(n()(),d._8(0,0,null,null,1,"app-chat",[],null,null,null,o,V)),d._6(1,4440064,null,0,k,[],null,null)],function(n,e){n(e,1,0)},null)}function r(n){return d._25(0,[(n()(),d._8(0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function a(n){return d._25(0,[(n()(),d._8(0,0,null,null,1,"app-login",[],null,[[null,"clientEvent"]],function(n,e,l){var t=!0,u=n.component;if("clientEvent"===e){t=!1!==u.receiveClientService(l)&&t}return t},u,w)),d._6(1,114688,null,0,P,[I,L],null,{clientEvent:"clientEvent"})],function(n,e){n(e,1,0)},null)}function c(n){return d._25(0,[(n()(),d._8(0,0,null,null,1,"app-chat",[],null,[[null,"closedEvent"]],function(n,e,l){var t=!0,u=n.component;if("closedEvent"===e){t=!1!==u.receiveClosedEvent(l)&&t}return t},o,V)),d._6(1,4440064,null,0,k,[],{client:[0,"client"]},{closedEvent:"closedEvent"})],function(n,e){n(e,1,0,e.component.client)},null)}function g(n){return d._25(0,[(n()(),d._24(-1,null,["\n"])),(n()(),d._2(16777216,null,null,1,null,r)),d._6(2,16384,null,0,b.c,[d.Q,d.N],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(n()(),d._24(-1,null,["\n"])),(n()(),d._2(0,[["thenBlock",2]],null,0,null,a)),(n()(),d._24(-1,null,["\n"])),(n()(),d._2(0,[["elseBlock",2]],null,0,null,c)),(n()(),d._24(-1,null,["\n\n"]))],function(n,e){n(e,2,0,!e.component.loggedIn,d._20(e,4),d._20(e,6))},null)}function _(n){return d._25(0,[(n()(),d._8(0,0,null,null,1,"app-root",[],null,null,null,g,H)),d._6(1,49152,null,0,v,[],null,null)],null,null)}Object.defineProperty(e,"__esModule",{value:!0});var E,d=l("/oeL"),p={production:!0},h=!0,m={URL:h?"ws://"+window.location.host+"/dako-backend/advancedchat":"ws://"+window.location.host+"/dako-backend/simplechat"},f=function(){function n(){}return n}(),v=function(){function n(){this.title="DaKo-Frontend",this.loggedIn=null!=sessionStorage.getItem("username")}return n.prototype.receiveClientService=function(n){this.client=n,this.loggedIn=!0},n.prototype.receiveClosedEvent=function(n){this.client.reconnect()},n.ctorParameters=function(){return[]},n}(),N=[""],S=l("bm2B"),b=l("qbdv");!function(n){n[n.UNREGISTERED=0]="UNREGISTERED",n[n.REGISTERING=1]="REGISTERING",n[n.REGISTERED=2]="REGISTERED",n[n.UNREGISTERING=3]="UNREGISTERING"}(E||(E={}));var T;!function(n){n[n.UNDEFINED="UNDEFINED"]="UNDEFINED",n[n.LOGIN_REQUEST="LOGIN_REQUEST"]="LOGIN_REQUEST",n[n.LOGIN_RESPONSE="LOGIN_RESPONSE"]="LOGIN_RESPONSE",n[n.LOGOUT_REQUEST="LOGOUT_REQUEST"]="LOGOUT_REQUEST",n[n.LOGOUT_RESPONSE="LOGOUT_RESPONSE"]="LOGOUT_RESPONSE",n[n.CHAT_MESSAGE_REQUEST="CHAT_MESSAGE_REQUEST"]="CHAT_MESSAGE_REQUEST",n[n.CHAT_MESSAGE_RESPONSE="CHAT_MESSAGE_RESPONSE"]="CHAT_MESSAGE_RESPONSE",n[n.CHAT_MESSAGE_EVENT="CHAT_MESSAGE_EVENT"]="CHAT_MESSAGE_EVENT",n[n.LOGIN_EVENT="LOGIN_EVENT"]="LOGIN_EVENT",n[n.LOGOUT_EVENT="LOGOUT_EVENT"]="LOGOUT_EVENT",n[n.CHAT_MESSAGE_EVENT_CONFIRM="CHAT_MESSAGE_EVENT_CONFIRM"]="CHAT_MESSAGE_EVENT_CONFIRM",n[n.LOGIN_EVENT_CONFIRM="LOGIN_EVENT_CONFIRM"]="LOGIN_EVENT_CONFIRM",n[n.LOGOUT_EVENT_CONFIRM="LOGOUT_EVENT_CONFIRM"]="LOGOUT_EVENT_CONFIRM"}(T||(T={}));var C=l("Dqrr"),O=function(){function n(){}return n.prototype.connect=function(n){return this.subject||(this.subject=this.create(n),console.log("Successfully connected: "+n)),this.subject},n.prototype.close=function(){this.subject.complete(),this.subject=void 0},n.prototype.reconnect=function(n){this.subject.complete(),this.subject=null,this.connect(n)},n.prototype.create=function(n){var e=new WebSocket(n),l=C.Observable.create(function(n){return e.onmessage=n.next.bind(n),e.onerror=n.error.bind(n),e.onclose=n.complete.bind(n),e.close.bind(e)}),t={next:function(n){e.readyState===WebSocket.OPEN&&e.send(JSON.stringify(n))}};return C.Subject.create(t,l)},n.ctorParameters=function(){return[]},n}(),R=function(){function n(){}return n.prototype.setPduType=function(n){this.pduType=n},n.prototype.setUserName=function(n){this.userName=n},n.prototype.setEventUserName=function(n){this.eventUserName=n},n.prototype.setClientThreadName=function(n){this.clientThreadName=n},n.prototype.setServerThreadName=function(n){this.serverThreadName=n},n.prototype.setSequenceNumber=function(n){this.sequenceNumber=n},n.prototype.setMessage=function(n){this.message=n},n.prototype.setClients=function(n){this.clients=n},n.prototype.addClient=function(n){null!=this.clients?this.clients.push(n):(this.clients=new Array,this.addClient(n))},n.prototype.setServerTime=function(n){this.serverTime=n},n.prototype.setClientStatus=function(n){this.clientStatus=n},n.prototype.setNumberOfReceivedChatMessages=function(n){this.numberOfReceivedChatMessages=n},n.prototype.setNumberOfSentEvents=function(n){this.numberOfSentEvents=n},n.prototype.setNumberOfReceivedConfirms=function(n){this.numberOfReceivedConfirms=n},n.prototype.setNumberOfLostConfirms=function(n){this.numberOfLostConfirms=n},n.prototype.setErrorCode=function(n){this.errorCode=n},n.prototype.setNumberOfRetries=function(n){this.numberOfRetries=n},n.prototype.getUserName=function(){return this.userName},n.prototype.getEventUserName=function(){return this.eventUserName},n.prototype.getClientThreadName=function(){return this.clientThreadName},n.prototype.getServerThreadName=function(){return this.serverThreadName},n.prototype.getSequenceNumber=function(){return this.sequenceNumber},n.prototype.getMessage=function(){return this.message},n.prototype.removeClient=function(n){var e=this.clients.indexOf(n,0);e>-1&&this.clients.splice(e,1)},n.prototype.getClients=function(){return this.clients},n.prototype.getServerTime=function(){return this.serverTime},n.prototype.getErrorCode=function(){return this.errorCode},n.prototype.getClientStatus=function(){return this.clientStatus},n.prototype.getNumberOfReceivedChatMessages=function(){return this.numberOfReceivedChatMessages},n.prototype.getNumberOfRetries=function(){return this.numberOfRetries},n.prototype.getNumberOfSentEvents=function(){return this.numberOfSentEvents},n.prototype.getNumberOfReceivedConfirms=function(){return this.numberOfReceivedConfirms},n.prototype.getNumberOfLostConfirms=function(){return this.numberOfLostConfirms},n.prototype.getPdutype=function(){return this.pduType},n.createLogoutRequestPdu=function(e,l){var t=new n;return t.setPduType(T.LOGOUT_REQUEST),t.setClientStatus(l),t.setUserName(e),t},n.createLogoutEventPdu=function(e,l,t){var u=new n;return u.setPduType(T.LOGOUT_EVENT),u.setUserName(e),u.setEventUserName(e),u.setClients(l),u.setClientStatus(E.UNREGISTERING),u},n.createLoginEventPdu=function(e,l,t){var u=new n;return u.setPduType(T.LOGIN_EVENT),u.setUserName(e),u.setEventUserName(t.getUserName()),u.setUserName(t.getUserName()),u.setClients(l),u.setClientStatus(E.REGISTERING),u},n.createLoginResponsePdu=function(e,l){var t=new n;return t.setPduType(T.LOGIN_RESPONSE),t.setUserName(e),t.setClientStatus(E.REGISTERED),t},n.createChatMessageEventPdu=function(e,l){var t=new n;return t.setPduType(T.CHAT_MESSAGE_EVENT),t.setUserName(e),t.setEventUserName(l.getUserName()),t.setSequenceNumber(l.getSequenceNumber()),t.setClientStatus(E.REGISTERED),t.setMessage(l.getMessage()),t},n.createLogoutResponsePdu=function(e,l,t,u,s,o,i){var r=new n;return r.setPduType(T.LOGOUT_RESPONSE),r.setClientStatus(E.UNREGISTERED),r.setNumberOfSentEvents(l),r.setNumberOfLostConfirms(t),r.setNumberOfReceivedConfirms(u),r.setNumberOfRetries(s),r.setNumberOfReceivedChatMessages(o),r.setUserName(e),r},n.createChatMessageResponsePdu=function(e,l,t,u,s,o,i,r){var a=new n;return a.setPduType(T.CHAT_MESSAGE_RESPONSE),a.setEventUserName(e),a.setUserName(e),a.setClientStatus(E.REGISTERED),a.setSequenceNumber(o),a.setNumberOfSentEvents(l),a.setNumberOfLostConfirms(t),a.setNumberOfReceivedConfirms(u),a.setNumberOfRetries(s),a.setNumberOfReceivedChatMessages(o),a.setServerTime(r),a},n.createLoginErrorResponsePdu=function(e,l){var t=new n;return t.setPduType(T.LOGIN_RESPONSE),t.setUserName(e.getUserName()),t.setClientStatus(E.UNREGISTERED),t.setErrorCode(l),t},n.createLoginEventConfirm=function(e,l){var t=new n;return t.setPduType(T.LOGIN_EVENT_CONFIRM),t.setClientStatus(E.REGISTERED),t.setUserName(e),t.setEventUserName(l.getEventUserName()),t},n.createLogoutEventConfirm=function(e,l){var t=new n;return t.setPduType(T.LOGOUT_EVENT_CONFIRM),t.setClientStatus(E.UNREGISTERING),t.setUserName(e),t.setEventUserName(l.getEventUserName()),t},n.createChatMessageEventConfirm=function(e,l){var t=new n;return t.setPduType(T.CHAT_MESSAGE_EVENT_CONFIRM),t.setClientStatus(E.REGISTERED),t.setUserName(e),t.setEventUserName(l.getEventUserName()),t},n.createLoginRequestPdu=function(e){var l=new n;return l.setUserName(e),l.setClientStatus(E.REGISTERING),l.setPduType(T.LOGIN_REQUEST),l},n}(),U=function(){function n(n){var e=this;this.wsService=n,this.messages=n.connect(m.URL).map(function(n){console.log(n.data);var l=JSON.parse(n.data);return e.pdu=new R,e.pdu.setUserName(l.userName),e.pdu.setErrorCode(l.errorCode),e.pdu.setPduType(l.pduType),e.pdu.setClients(l.clients),e.pdu.setClientStatus(l.clientstatus),e.pdu.setEventUserName(l.eventUserName),e.pdu.setMessage(l.message),e.pdu})}return n.prototype.close=function(){this.wsService.close()},n.prototype.reconnect=function(){this.wsService.reconnect(m.URL)},n.ctorParameters=function(){return[{type:O}]},n}(),y=function(){function n(n){var e=this;this.clientService=n,this.status=E.UNREGISTERED,this.messageEvent=new C.Subject,this.messageEvent$=this.messageEvent.asObservable(),this.userListEvent=new C.BehaviorSubject(void 0),this.userListEvent$=this.userListEvent.asObservable(),this.loginErrorEvent=new C.Subject,this.loginErrorEvent$=this.loginErrorEvent.asObservable(),n.messages.subscribe(function(n){console.log("Response from websocket: "+n.getPdutype()),e.handleIncomingPdu(n)})}return n.prototype.setUserName=function(n){this.userName=n},n.prototype.getUserName=function(){return this.userName},n.prototype.handleUserListEvent=function(n){this.userListEvent.next(n)},n.prototype.logout=function(n){this.status=E.UNREGISTERING;var e=R.createLogoutRequestPdu(n,this.status);this.send(e)},n.prototype.reconnect=function(){this.clientService.close()},n.prototype.tell=function(n,e){var l=new R;l.setPduType(T.CHAT_MESSAGE_REQUEST),l.setClientStatus(E.REGISTERED),l.setUserName(n),l.setMessage(e),this.send(l),console.log("Chat-Message-Request-PDU fuer Client "+name+" an Server gesendet, Inhalt: "+e)},n.prototype.send=function(n){this.clientService.messages.next(n)},n.prototype.loginRequest=function(n){console.log("Sending Request..."),this.status=E.REGISTERING,this.userName=n;var e=R.createLoginRequestPdu(n);this.send(e)},n.prototype.logoutResponseAction=function(n){this.status=E.UNREGISTERED,sessionStorage.clear(),window.location.reload()},n.ctorParameters=function(){return[{type:U}]},n}(),G=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var l in e)e.hasOwnProperty(l)&&(n[l]=e[l])};return function(e,l){function t(){this.constructor=e}n(e,l),e.prototype=null===l?Object.create(l):(t.prototype=l.prototype,new t)}}(),I=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return G(e,n),e.prototype.handleIncomingPdu=function(n){if(console.log("Handling PDU Status: "+this.status),null!=n)switch(this.status){case E.REGISTERING:switch(n.getPdutype()){case T.LOGIN_RESPONSE:this.loginResponseAction(n);break;case T.LOGIN_EVENT:this.loginEventAction(n);break;case T.LOGOUT_EVENT:this.logoutEventAction(n);break;case T.CHAT_MESSAGE_EVENT:this.chatMessageEventAction(n);break;default:console.log("Ankommende PDU im Zustand "+this.status+" wird verworfen")}break;case E.REGISTERED:switch(n.getPdutype()){case T.CHAT_MESSAGE_RESPONSE:this.chatMessageResponseAction(n);break;case T.CHAT_MESSAGE_EVENT:this.chatMessageEventAction(n);break;case T.LOGIN_EVENT:this.loginEventAction(n);break;case T.LOGOUT_EVENT:this.logoutEventAction(n);break;default:console.log("Ankommende PDU im Zustand "+this.status+" wird verworfen")}break;case E.UNREGISTERING:switch(n.getPdutype()){case T.CHAT_MESSAGE_EVENT:this.chatMessageEventAction(n);break;case T.LOGOUT_RESPONSE:this.logoutResponseAction(n);break;case T.LOGIN_EVENT:this.loginEventAction(n);break;case T.LOGOUT_EVENT:this.logoutEventAction(n);break;default:console.log("Ankommende PDU im Zustand "+this.status+" wird verworfen")}break;case E.UNREGISTERED:console.log("Ankommende PDU im Zustand "+this.status+" wird verworfen");break;default:console.log("Unzulaessiger Zustand "+this.status)}},e.prototype.chatMessageEventAction=function(n){console.log(n.getUserName()+": "+n.getMessage()),this.messageEvent.next(n)},e.prototype.loginEventAction=function(n){this.handleUserListEvent(n)},e.prototype.logoutEventAction=function(n){this.handleUserListEvent(n)},e.prototype.chatMessageResponseAction=function(n){console.log(n.getMessage()+" wurde \xfcbertragen")},e.prototype.loginResponseAction=function(n){1==n.getErrorCode()?(console.log("Login-Response-PDU fuer Client "+n.getUserName()+" mit Login-Error empfangen"),this.status=E.UNREGISTERED,this.loginErrorEvent.next(1),this.clientService.reconnect()):(this.status=E.REGISTERED,sessionStorage.setItem("username",n.getUserName()),this.loginErrorEvent.next(0),console.debug("Login-Response-PDU fuer Client "+n.getUserName()+" empfangen"))},e}(y),A=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var l in e)e.hasOwnProperty(l)&&(n[l]=e[l])};return function(e,l){function t(){this.constructor=e}n(e,l),e.prototype=null===l?Object.create(l):(t.prototype=l.prototype,new t)}}(),L=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return A(e,n),e.prototype.handleIncomingPdu=function(n){if(null!=n)switch(this.status){case E.REGISTERING:switch(n.getPdutype()){case T.LOGIN_RESPONSE:this.loginResponseAction(n);break;case T.LOGIN_EVENT:this.loginEventAction(n);break;case T.LOGOUT_EVENT:this.logoutEventAction(n);break;case T.CHAT_MESSAGE_EVENT:this.chatMessageEventAction(n);break;default:console.debug("Ankommende PDU im Zustand "+this.status+" wird verworfen")}break;case E.REGISTERED:switch(n.getPdutype()){case T.CHAT_MESSAGE_RESPONSE:this.chatMessageResponseAction(n);break;case T.CHAT_MESSAGE_EVENT:this.chatMessageEventAction(n);break;case T.LOGIN_EVENT:this.loginEventAction(n);break;case T.LOGOUT_EVENT:this.logoutEventAction(n);break;default:console.debug("Ankommende PDU im Zustand "+this.status+" wird verworfen")}break;case E.UNREGISTERING:switch(n.getPdutype()){case T.CHAT_MESSAGE_EVENT:this.chatMessageEventAction(n);break;case T.LOGOUT_RESPONSE:this.logoutResponseAction(n);break;case T.LOGIN_EVENT:this.loginEventAction(n);break;case T.LOGOUT_EVENT:this.logoutEventAction(n);break;default:console.debug("Ankommende PDU im Zustand "+this.status+" wird verworfen")}break;case E.UNREGISTERED:console.debug("Ankommende PDU im Zustand "+this.status+" wird verworfen");break;default:console.debug("Unzulaessiger Zustand "+this.status)}},e.prototype.chatMessageEventAction=function(n){console.debug("Chat-Message-Event-PDU von "+n.getEventUserName()+" empfangen"),this.confirmChatMessageEvent(n),this.messageEvent.next(n)},e.prototype.loginEventAction=function(n){this.handleUserListEvent(n),this.confirmLoginEvent(n)},e.prototype.logoutEventAction=function(n){console.debug(this.userName+" empfaengt Logout-Event-PDU fuer Client "+n.getUserName()),console.debug(this.userName+": Clientliste: "+n.getClients()),this.handleUserListEvent(n),this.confirmLogoutEvent(n)},e.prototype.chatMessageResponseAction=function(n){console.log("Chat-Message-Response PDU received f\xfcr Client "+n.getUserName())},e.prototype.confirmChatMessageEvent=function(n){var e=R.createChatMessageEventConfirm(this.userName,n);this.send(e),console.debug("Chat-Message-Event-Confirm-PDU fuer "+n.getUserName()+" bzgl. eines urspruenglichen Events von "+n.getEventUserName()+" an den Server gesendet")},e.prototype.confirmLogoutEvent=function(n){var e=R.createLogoutEventConfirm(this.userName,n);this.send(e),console.debug("Logout-Event-Confirm-PDU fuer "+n.getUserName()+" bzgl. eines urspruenglichen Events von "+n.getEventUserName()+" an den Server gesendet")},e.prototype.confirmLoginEvent=function(n){var e=R.createLoginEventConfirm(this.userName,n);this.send(e),console.log("Login-Event-Confirm-PDU fuer "+n.getUserName()+" bzgl. eines urspruenglichen Events von "+n.getEventUserName()+" an den Server gesendet")},e.prototype.loginResponseAction=function(n){1==n.getErrorCode()?(console.debug("Login-Response-PDU fuer Client "+n.getUserName()+" mit Login-Error empfangen"),this.status=E.UNREGISTERED,this.loginErrorEvent.next(1),this.clientService.reconnect()):(this.status=E.REGISTERED,sessionStorage.setItem("username",n.getUserName()),this.loginErrorEvent.next(0),console.debug("Login-Response-PDU fuer Client "+n.getUserName()+" empfangen"))},e}(y),P=function(){function n(n,e){this.clientSimple=n,this.clientAdvanced=e,this.isAdvancedChat=h,this.isError=!1,this.errorCode=0,this.clientEvent=new d.m}return n.prototype.login=function(){var n=this;this.client=h?this.clientAdvanced:this.clientSimple,this.client.loginErrorEvent$.subscribe(function(e){n.checkLogin(e)}),this.client.loginRequest(this.username)},n.prototype.onEnter=function(){this.login()},n.prototype.checkLogin=function(n){0==n?this.clientEvent.emit(this.client):(this.isError=!0,this.errorCode=n,console.log("Fehler beim Login aufgetreten. Fehlernummer: "+n))},n.prototype.ngOnInit=function(){},n.ctorParameters=function(){return[{type:I},{type:L}]},n}(),M=["body[_ngcontent-%COMP%] {\n    background-color: #DADADA;\n  }\n  body[_ngcontent-%COMP%]    > .grid[_ngcontent-%COMP%] {\n    height: 100%;\n  }\n  .image[_ngcontent-%COMP%] {\n    margin-top: 10px;\n  }\n  .column[_ngcontent-%COMP%] {\n    max-width: 450px;\n  }"],w=d._5({encapsulation:0,styles:M,data:{}}),k=(d._3("app-login",P,s,{},{clientEvent:"clientEvent"},[]),function(){function n(){this.messageToAdd="",this.usersToAdd="",this.closedEvent=new d.m}return n.prototype.ngAfterViewInit=function(){this.updateUserList(this.client.userListEvent.getValue())},n.prototype.ngOnInit=function(){var n=this;void 0==this.client?(sessionStorage.clear(),this.closedEvent.emit(!0),window.location.reload()):(this.messageObservable=this.client.messageEvent$.subscribe(function(e){n.addMessage(e)}),this.userListObservable=this.client.userListEvent$.subscribe(function(e){n.updateUserList(e)}))},n.prototype.getUserName=function(){return sessionStorage.getItem("username")},n.prototype.ngOnDestroy=function(){this.messageObservable.unsubscribe(),this.userListObservable.unsubscribe()},n.prototype.send=function(){this.client.tell(this.getUserName(),this.message),this.message=""},n.prototype.addMessage=function(n){this.messageToAdd=this.messageToAdd+'<i class="user circle outline icon"></i>'+n.getEventUserName()+": "+n.getMessage()+"<br>"},n.prototype.updateUserList=function(n){this.usersToAdd="";for(var e=0,l=n.getClients();e<l.length;e++){var t=l[e];this.usersToAdd+=t+"<br>"}},n.prototype.logout=function(){this.client.logout(this.getUserName())},n.ctorParameters=function(){return[]},n}()),D=["body[_ngcontent-%COMP%] {\n    background-color: #DADADA;\n  }\n\n  body[_ngcontent-%COMP%] > .grid[_ngcontent-%COMP%] {\n    height: 100%;\n    max-width: 800px;\n  }\n\n  .grid[_ngcontent-%COMP%]{\n    overflow: hidden;\n  }\n\n  .userBox[_ngcontent-%COMP%] {\n    height: 100px;\n    overflow-y: scroll;\n  }\n\n  .chatBox[_ngcontent-%COMP%]{\n    height: 250px;\n    overflow-y: scroll;\n  }\n\n  .image[_ngcontent-%COMP%] {\n    margin-top: 10px;\n  }\n\n  .column[_ngcontent-%COMP%] {\n    max-width: 800px;\n  }"],V=d._5({encapsulation:0,styles:D,data:{}}),x=(d._3("app-chat",k,i,{client:"client"},{closedEvent:"closedEvent"},[]),[N]),H=d._5({encapsulation:0,styles:x,data:{}}),F=d._3("app-root",v,_,{},{},[]),j=l("fc+i"),q=d._4(f,[v],function(n){return d._18([d._19(512,d.i,d._0,[[8,[F]],[3,d.i],d.x]),d._19(5120,d.v,d._17,[[3,d.v]]),d._19(4608,b.e,b.d,[d.v]),d._19(4608,d.h,d.h,[]),d._19(5120,d.a,d._9,[]),d._19(5120,d.t,d._14,[]),d._19(5120,d.u,d._15,[]),d._19(4608,j.b,j.s,[b.b]),d._19(6144,d.J,null,[j.b]),d._19(4608,j.e,j.f,[]),d._19(5120,j.c,function(n,e,l,t){return[new j.k(n),new j.o(e),new j.n(l,t)]},[b.b,b.b,b.b,j.e]),d._19(4608,j.d,j.d,[j.c,d.z]),d._19(135680,j.m,j.m,[b.b]),d._19(4608,j.l,j.l,[j.d,j.m]),d._19(6144,d.H,null,[j.l]),d._19(6144,j.p,null,[j.m]),d._19(4608,d.O,d.O,[d.z]),d._19(4608,j.g,j.g,[b.b]),d._19(4608,j.i,j.i,[b.b]),d._19(4608,S.m,S.m,[]),d._19(4608,O,O,[]),d._19(4608,U,U,[O]),d._19(4608,I,I,[U]),d._19(4608,L,L,[U]),d._19(512,b.a,b.a,[]),d._19(1024,d.l,j.q,[]),d._19(1024,d.b,function(n,e){return[j.r(n,e)]},[[2,j.h],[2,d.y]]),d._19(512,d.c,d.c,[[2,d.b]]),d._19(131584,d._7,d._7,[d.z,d._1,d.r,d.l,d.i,d.c]),d._19(2048,d.e,null,[d._7]),d._19(512,d.d,d.d,[d.e]),d._19(512,j.a,j.a,[[3,j.a]]),d._19(512,S.k,S.k,[]),d._19(512,S.d,S.d,[]),d._19(512,f,f,[])])});p.production&&Object(d.U)(),Object(j.j)().bootstrapModuleFactory(q).catch(function(n){return console.log(n)})},gFIY:function(n,e){function l(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}l.keys=function(){return[]},l.resolve=l,n.exports=l,l.id="gFIY"}},[0]);